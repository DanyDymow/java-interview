## Mock Spy Stub
- Mocks - заглушка

Моки помогают имитировать и изучать исходящие (outcoming) взаимодействия. То есть вызовы, совершаемые тестируемой системой (SUT) к ее зависимостям для изменения их состояния.

Используйте Mock для:

проверки контракта между тестируемым кодом и зависимостями
проверки того, что методы зависимостей вызываются корректное число раз
проверки корректности параметров, с которыми вызывается код зависимостей

- Stubs

Стабы помогают имитировать входящие (incoming) взаимодействия. То есть вызовы, совершаемые SUT к ее зависимостям для получения входных данных.

Используйте Stub для:


предоставления предопределённых результатов вызовов
выполнения предопределённых действий, ожидаемых от зависимостей, таких как выбрасывание исключений

- Spies - в целом реальный обьект

Подумайте дважды, прежде чем использовать этот механизм. Возможно, вам стоит изменить дизайн вашего решения и реорганизовать ваш код.
Но так уж случается, что бывают ситуации, когда мы должны работать с легаси кодом. Легаси код бывает сложно или даже невозможно протестировать при помощи моков и стабов. В этом случае есть всего один вариант решения — использовать Spy.


Используйте Spy для:

тестирования легаси кода, который невозможно протестировать другими методами
проверки того, что методы зависимостей вызываются корректное число раз
проверки корректности передаваемых параметров
предоставления предопределённого ответа от зависимостей
выполнения предопределённых действий в ответ на вызовы методов зависимостей